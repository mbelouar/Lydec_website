{"ast":null,"code":"const setRec = async (reclamation, setErr) => {\n  const response = await fetch(\"http://localhost/PHP2/Client/setReclamation.php\", {\n    method: 'POST',\n    credentials: 'include',\n    body: JSON.stringify(reclamation)\n  });\n  await response.text().then(message => {\n    setErr(message);\n  });\n};\nconst setConsommation = async (conso, setMessage) => {\n  if (conso.mois >= 1 && conso.annee > 0 && conso.consom > 0) {\n    let flag = true;\n    const date = new Date();\n    const year = date.getFullYear();\n    const month = date.getMonth() + 1;\n    let mois = parseInt(conso.mois, 10);\n    let annee = parseInt(conso.annee, 10);\n    if (annee === year && mois > month) {\n      flag = false;\n    }\n    if (flag) {\n      const formData = new FormData();\n      formData.append('pic', conso.pic);\n      formData.append('mois', conso.mois);\n      formData.append('annee', conso.annee);\n      formData.append('consom', conso.consom);\n      const response = await fetch(\"http://localhost/PHP2/Client/setConsommation.php\", {\n        method: 'POST',\n        body: formData,\n        credentials: 'include'\n      });\n      await response.text().then(data => {\n        setMessage(data);\n      });\n    } else {\n      setMessage('La date est invalide');\n    }\n  } else {\n    setMessage('Verifier les valeurs des champs');\n  }\n};\nconst setClient = async (data, seterr) => {\n  const response = await fetch(\"http://localhost/PHP2/Admin/setClient.php\", {\n    method: 'POST',\n    credentials: 'include',\n    body: JSON.stringify(data)\n  });\n  await response.text().then(res => {\n    seterr(res);\n  });\n};\nconst modifyClient = async (data, seterr) => {\n  const response = await fetch(\"http://localhost/PHP2/Admin/modifyClient.php\", {\n    method: 'POST',\n    credentials: 'include',\n    body: JSON.stringify(data)\n  });\n  await response.text().then(res => {\n    seterr(res);\n  });\n};\nconst traiterReclam = async (id, hideRec) => {\n  const response = await fetch(\"http://localhost/PHP2/Admin/traiterReclam.php\", {\n    method: 'POST',\n    credentials: 'include',\n    body: JSON.stringify({\n      Id: id\n    })\n  });\n  await response.text().then(msg => {\n    if (msg === 'true') hideRec();\n  });\n};\nconst validerFacture = async (idFac, setMsg) => {\n  const response = await fetch(\"http://localhost/PHP2/Admin/validerFacture.php\", {\n    method: 'POST',\n    credentials: 'include',\n    body: JSON.stringify({\n      Id: idFac\n    })\n  });\n  await response.text().then(msg => {\n    setMsg(msg);\n  });\n};\nconst modifierFacture = async (idFac, nvConso, mois, annee, setMsg) => {\n  const response = await fetch(\"http://localhost/PHP2/Admin/modifierFacture.php\", {\n    method: 'POST',\n    credentials: 'include',\n    body: JSON.stringify({\n      Id: idFac,\n      nvConso: nvConso,\n      Mois: mois,\n      Annee: annee\n    })\n  });\n  await response.text().then(msg => {\n    setMsg(msg);\n  });\n};\nconst setConsoAnn = async (file, setMsg) => {\n  const formdata = new FormData();\n  formdata.append('fichier', file);\n  const response = await fetch(\"http://localhost/PHP2/Admin/setConsoAnnuelle.php\", {\n    method: 'POST',\n    credentials: 'include',\n    body: formdata\n  });\n  await response.text().then(msg => {\n    setMsg(msg);\n  });\n};\nconst notifierClient = async (annee, client, setMsg) => {\n  const response = await fetch(\"http://localhost/PHP2/Admin/notifierClient.php\", {\n    method: 'POST',\n    credentials: 'include',\n    body: JSON.stringify({\n      Annee: annee,\n      Client: client\n    })\n  });\n  await response.text().then(msg => {\n    setMsg(msg);\n  });\n};\nmodule.exports = {\n  setRec,\n  setConsommation,\n  setClient,\n  modifyClient,\n  traiterReclam,\n  validerFacture,\n  modifierFacture,\n  setConsoAnn,\n  notifierClient\n};","map":{"version":3,"names":["setRec","reclamation","setErr","response","fetch","method","credentials","body","JSON","stringify","text","then","message","setConsommation","conso","setMessage","mois","annee","consom","flag","date","Date","year","getFullYear","month","getMonth","parseInt","formData","FormData","append","pic","data","setClient","seterr","res","modifyClient","traiterReclam","id","hideRec","Id","msg","validerFacture","idFac","setMsg","modifierFacture","nvConso","Mois","Annee","setConsoAnn","file","formdata","notifierClient","client","Client","module","exports"],"sources":["C:/Users/simob/Desktop/tp2_php - Copie/tp2_php/src/Controllers/setData.js"],"sourcesContent":["\r\nconst setRec=async(reclamation,setErr)=>{\r\n    const response=await fetch(\"http://localhost/PHP2/Client/setReclamation.php\",{\r\n        method:'POST',\r\n        credentials:'include',\r\n        body:JSON.stringify(reclamation)\r\n    })\r\n    await response.text().then(\r\n        (message)=>{\r\n            setErr(message);\r\n        }\r\n    )\r\n}\r\nconst setConsommation=async(conso,setMessage)=>{\r\n    if(conso.mois >= 1 && conso.annee > 0 && conso.consom > 0){\r\n        let flag=true;\r\n\r\n        const date=new Date()\r\n        const year=date.getFullYear();\r\n        const month=date.getMonth()+1;\r\n        let mois=parseInt(conso.mois,10);\r\n        let annee=parseInt(conso.annee,10);\r\n        if(annee === year && mois > month){\r\n            flag=false\r\n        }\r\n        if(flag){\r\n            const formData=new FormData();\r\n            formData.append('pic',conso.pic);\r\n            formData.append('mois',conso.mois);\r\n            formData.append('annee',conso.annee);\r\n            formData.append('consom',conso.consom);\r\n\r\n            const response=await fetch(\"http://localhost/PHP2/Client/setConsommation.php\",{\r\n                method:'POST',\r\n                body:formData,\r\n                credentials:'include'\r\n            })\r\n            await response.text().then(\r\n                (data)=>{\r\n                   setMessage(data);\r\n                }\r\n            )\r\n        }else{\r\n            setMessage('La date est invalide')\r\n        }\r\n\r\n    }else{\r\n        setMessage('Verifier les valeurs des champs')\r\n    }\r\n}\r\n\r\nconst setClient=async(data,seterr)=>{\r\n    const response=await fetch(\"http://localhost/PHP2/Admin/setClient.php\",{\r\n        method:'POST',\r\n        credentials:'include',\r\n        body:JSON.stringify(data)\r\n    })\r\n    await response.text().then(\r\n        (res)=>{\r\n            seterr(res);\r\n        }\r\n    )\r\n}\r\n\r\nconst modifyClient=async(data,seterr)=>{\r\n    const response=await fetch(\"http://localhost/PHP2/Admin/modifyClient.php\",{\r\n        method:'POST',\r\n        credentials:'include',\r\n        body:JSON.stringify(data)\r\n    })\r\n    await response.text().then(\r\n        (res)=>{\r\n            seterr(res);\r\n        }\r\n    )\r\n}\r\n\r\nconst traiterReclam=async(id,hideRec)=>{\r\n    const response=await fetch(\"http://localhost/PHP2/Admin/traiterReclam.php\",{\r\n        method:'POST',\r\n        credentials:'include',\r\n        body:JSON.stringify({Id:id})\r\n    })\r\n    await response.text().then(\r\n        (msg)=>{\r\n            if(msg==='true')\r\n                hideRec()\r\n        }\r\n    )\r\n}\r\n\r\nconst validerFacture=async(idFac,setMsg)=>{\r\n    const response=await fetch(\"http://localhost/PHP2/Admin/validerFacture.php\",{\r\n        method:'POST',\r\n        credentials:'include',\r\n        body:JSON.stringify({Id:idFac})\r\n    })\r\n    await response.text().then(\r\n        (msg)=>{\r\n            setMsg(msg);\r\n        }\r\n    )\r\n}\r\n\r\nconst modifierFacture=async(idFac,nvConso,mois,annee,setMsg)=>{\r\n    const response=await fetch(\"http://localhost/PHP2/Admin/modifierFacture.php\",{\r\n        method:'POST',\r\n        credentials:'include',\r\n        body:JSON.stringify({Id:idFac,nvConso:nvConso,Mois:mois,Annee:annee})\r\n    })\r\n    await response.text().then(\r\n        (msg)=>{\r\n            setMsg(msg);\r\n        }\r\n    )\r\n}\r\n\r\nconst setConsoAnn=async(file,setMsg)=>{\r\n    const formdata= new FormData();\r\n    formdata.append('fichier',file);\r\n    const response=await fetch(\"http://localhost/PHP2/Admin/setConsoAnnuelle.php\",{\r\n        method:'POST',\r\n        credentials:'include',\r\n        body:formdata\r\n    })\r\n    await response.text().then(\r\n        (msg)=>{\r\n            setMsg(msg)\r\n        }\r\n    )\r\n}\r\n\r\nconst notifierClient=async(annee,client,setMsg)=>{\r\n    const response=await fetch(\"http://localhost/PHP2/Admin/notifierClient.php\",{\r\n        method:'POST',\r\n        credentials:'include',\r\n        body:JSON.stringify({Annee:annee,Client:client})\r\n    })\r\n    await response.text().then(\r\n        (msg)=>{\r\n            setMsg(msg)\r\n        }\r\n    )\r\n}\r\n\r\nmodule.exports={\r\n    setRec,\r\n    setConsommation,\r\n    setClient,\r\n    modifyClient,\r\n    traiterReclam,\r\n    validerFacture,\r\n    modifierFacture,\r\n    setConsoAnn,\r\n    notifierClient\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}