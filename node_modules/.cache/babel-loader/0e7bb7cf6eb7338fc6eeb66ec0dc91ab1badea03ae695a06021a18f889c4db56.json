{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\simob\\\\Desktop\\\\tp2_php - Copie\\\\tp2_php\\\\src\\\\Pages\\\\FactureAdmin.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { getFacture } from '../Controllers/getData';\nimport { modifierFacture, validerFacture } from '../Controllers/setData';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst FactureAdmin = () => {\n  _s();\n  const prams = new URL(document.location).searchParams;\n  const idFact = prams.get('q');\n  const [facture, setFacture] = useState({\n    prix_ht: '',\n    prix_ttc: '',\n    conso: '',\n    mois: '',\n    annee: '',\n    status: '',\n    pic: ''\n  });\n  const [afficher, setAfficher] = useState(false);\n  const [nvConsommation, setNvConsommation] = useState('');\n  const [msg, setMsg] = useState('');\n  const handleValider = () => {\n    validerFacture(idFact, setMsg);\n  };\n  const handleModifier = () => {\n    modifierFacture(idFact, nvConsommation, facture.mois, facture.annee, setMsg);\n  };\n  useEffect(() => {\n    getFacture(setFacture, idFact);\n  }, [msg]);\n  useEffect(() => {\n    if (msg === 'Facture Valider' || msg === 'Consommation Modifier') {\n      setFacture(f => ({\n        ...f,\n        status: '0'\n      }));\n    }\n  }, [msg]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"main\",\n    children: [msg !== '' ? /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"factureMsg\",\n      children: msg\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 19\n    }, this) : null, /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"uneFacture\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"box1\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"imageHolder\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: `http://localhost/PHP2/uploads/${facture.pic}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 35,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"TTC\",\n          children: /*#__PURE__*/_jsxDEV(\"h1\", {\n            children: [\"Prix TTC : \", facture.status !== '2' ? `${facture.prix_ttc} DH` : '-']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 38,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"box2\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"ID Facture :\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 43,\n              columnNumber: 24\n            }, this), \" \", idFact]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Consommation :\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 44,\n              columnNumber: 24\n            }, this), \" \", facture.conso, \" Kwh\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Prix HT :\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 47,\n              columnNumber: 24\n            }, this), \" \", facture.status !== '2' ? `${facture.prix_ttc} DH` : '-']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Mois :\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 48,\n              columnNumber: 24\n            }, this), \" \", `${facture.mois}/${facture.annee}`]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 13\n      }, this), facture.status === '2' ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          style: {\n            backgroundColor: 'green',\n            marginRight: '25px'\n          },\n          onClick: handleValider,\n          children: \"Valider\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 25\n        }, this)\n      }, void 0, false) : null, /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modifierConso\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            name: \"modifierConso\",\n            value: nvConsommation,\n            onChange: e => {\n              setNvConsommation(e.target.value);\n            },\n            placeholder: \"Conosmmation KWh\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleModifier,\n            children: \"Modifier\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 5\n  }, this);\n};\n_s(FactureAdmin, \"waghllsg/s3l5vhyJ/UGwJeHyzQ=\");\n_c = FactureAdmin;\nexport default FactureAdmin;\nvar _c;\n$RefreshReg$(_c, \"FactureAdmin\");","map":{"version":3,"names":["React","useState","useEffect","getFacture","modifierFacture","validerFacture","jsxDEV","_jsxDEV","Fragment","_Fragment","FactureAdmin","_s","prams","URL","document","location","searchParams","idFact","get","facture","setFacture","prix_ht","prix_ttc","conso","mois","annee","status","pic","afficher","setAfficher","nvConsommation","setNvConsommation","msg","setMsg","handleValider","handleModifier","f","className","children","fileName","_jsxFileName","lineNumber","columnNumber","src","style","backgroundColor","marginRight","onClick","type","name","value","onChange","e","target","placeholder","_c","$RefreshReg$"],"sources":["C:/Users/simob/Desktop/tp2_php - Copie/tp2_php/src/Pages/FactureAdmin.jsx"],"sourcesContent":["import React,{useState, useEffect} from 'react'\r\nimport { getFacture } from '../Controllers/getData';\r\nimport { modifierFacture, validerFacture } from '../Controllers/setData';\r\n\r\nconst FactureAdmin = () => {\r\n    const prams=new URL(document.location).searchParams\r\n    const idFact=prams.get('q');\r\n    const [facture,setFacture]=useState({prix_ht:'',prix_ttc:'',conso:'',mois:'',annee:'',status:'',pic:''});\r\n    const [afficher,setAfficher]=useState(false);\r\n    const [nvConsommation,setNvConsommation]=useState('')\r\n    const [msg,setMsg]=useState('');\r\n\r\n    \r\n    const handleValider=()=>{\r\n        validerFacture(idFact,setMsg);\r\n    }\r\n    const handleModifier=()=>{\r\n        modifierFacture(idFact,nvConsommation,facture.mois,facture.annee,setMsg);\r\n    }\r\n    useEffect(()=>{\r\n        getFacture(setFacture,idFact);\r\n    },[msg])\r\n    useEffect(()=>{\r\n        if(msg==='Facture Valider' || msg==='Consommation Modifier'){\r\n            setFacture((f)=>({...f,status:'0'}))\r\n        }\r\n    },[msg])\r\n\r\n  return (\r\n    <div className='main'>\r\n        {msg!==''?<p className='factureMsg'>{msg}</p>:null}\r\n        <div className='uneFacture'>\r\n            <div className='box1'>\r\n                <div className='imageHolder'>\r\n                    <img src={`http://localhost/PHP2/uploads/${facture.pic}`}></img>\r\n                </div>\r\n                <div className='TTC'>\r\n                    <h1>Prix TTC : {facture.status!=='2'?`${facture.prix_ttc} DH`:'-'}</h1>\r\n                </div>\r\n            </div>\r\n            <div className='box2'>\r\n                <div>\r\n                    <p><span>ID Facture :</span> {idFact}</p>\r\n                    <p><span>Consommation :</span> {facture.conso} Kwh</p>\r\n                </div>\r\n                <div>\r\n                    <p><span>Prix HT :</span> {facture.status!=='2'?`${facture.prix_ttc} DH`:'-'}</p>\r\n                    <p><span>Mois :</span> {`${facture.mois}/${facture.annee}`}</p>\r\n                </div>\r\n            </div>\r\n            {\r\n                facture.status==='2'?\r\n                    <>\r\n                        <button style={{backgroundColor:'green',marginRight:'25px'}} onClick={handleValider}>Valider</button>\r\n                    </>\r\n                :\r\n                    null\r\n            }\r\n                <div className='modifierConso'>\r\n                    <div>\r\n                        <input type='number' name='modifierConso' value={nvConsommation} onChange={(e)=>{setNvConsommation(e.target.value)}} placeholder='Conosmmation KWh'></input>\r\n                    </div>\r\n                    <div>\r\n                        <button onClick={handleModifier}>Modifier</button>\r\n                    </div>\r\n                </div>\r\n        </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default FactureAdmin"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}